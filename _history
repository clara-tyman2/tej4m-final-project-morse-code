{"entries":[{"timestamp":1767726028198,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":216,"length1":39,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":243,"length1":75,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.py","value":"# Wireless Morse code transmitter / receiver\n# Press A for dot, press B for dash\n# based on http://microbit-micropython.readthedocs.io/en/latest/tutorials/network.html\n\nimport microbit\nfrom microbit import *\nimport music\nimport radio\n\nradio.config(group=17)\nradio.on()\n\n# durations made a bit shorter than 250ms for a dot\n# durations made a bit shorter than 500ms for a dash\nDOT_DURATION = 230\nDASH_DURATION = 470\n\n# detect a new letter if incoming signal is greater than 1000ms.\nLETTER_THRESHOLD = 1000\n\n# Holds the translated Morse as characters.\nmessage = \"\"\n# The time from which the device has been waiting for the next event.\nstarted_to_wait = running_time()\n\n\nwhile True:\n    # Work out how long the device has been waiting for a keypress.\n    waiting = running_time() - started_to_wait\n    signal = radio.receive()\n    # Button presses for sending a message\n    if button_a.is_pressed():\n        display.show(\".\")\n        radio.send(\".\")\n        music.pitch(1200, duration=DOT_DURATION, wait=True)\n        sleep(50)  # little sleep added to debounce\n        display.clear()\n    elif button_b.is_pressed():\n        display.show(\"-\")\n        radio.send(\"-\")\n        music.pitch(1200, duration=DASH_DURATION, wait=True)\n        sleep(50)  # little sleep added to debounce\n        display.clear()\n    # Listen out for dashes and dots over radio\n    if signal:\n        if signal == \".\":\n            pin0.write_digital(1)\n            sleep(500)\n            pin0.write_digital(0)\n            message += \".\"\n        elif signal == \"-\":\n            pin0.write_digital(1)\n            sleep(500)\n            pin0.write_digital(0)\n            message += \"-\"\n        # We've received a signal, so reset waiting time\n        started_to_wait = running_time()\n    # Finally, if micro:bit was shaken while all the above was going on...\n    if pin_logo.is_touched():\n        # ... display the message on LEDs and serial console\n        print(message)\n        display.scroll(message)\n        # then reset it to empty (ready for a new message).\n        message = \"\"\n"}]}],"snapshots":[{"timestamp":1767726028197,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"TEJ4M final project \",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1767726461995}